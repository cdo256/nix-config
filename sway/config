set $mod Mod4
set $term alacritty
set $menu wofi -Srun 2>>.local/data/sway/wofi.out

set $display_primary 'HDMI-A-1'
set $display_secondary 'DP-2'
set $display_tv 'DP-3'

# TV is intentionally placed in an inaccessible location.
output $display_primary pos 0 0
output $display_secondary pos -1920 0
output $display_tv pos 2000 0

set $workspace1 "1"
set $workspace2 "2"
set $workspace3 "3"
set $workspace4 "4"
set $workspace5 "5"
set $workspace6 "6"
set $workspace7 "7"
set $workspace8 "8"
set $workspace9 "9"
set $workspace10 "10"

workspace $workspace10 output $display_tv

include /etc/sway/config-vars.d/*

font sans 10

input type:keyboard {
	xkb_layout gb
}

input "1:1:AT_Translated_Set_2_keyboard" {
	xkb_model pc105
}

input "2:7:SynPS/2_Synaptics_TouchPad" {
 	events disabled
	accel_profile adaptive
}

input "2:10:TPPS/2_IBM_TrackPoint" {

}

input "6058:20564:ThinkPad_Extra_Buttons" {
	xkb_model pc105
}

# Mouse button for dragging.
floating_modifier $mod normal

# Whole desktop control
bindsym $mod+Ctrl+Shift+r reload
bindsym $mod+Ctrl+Shift+F4 exec swaymsg exit

# Window Navigation
bindsym $mod+Mod1+Left        focus left
bindsym $mod+Mod1+Down        focus down
bindsym $mod+Mod1+Up          focus up
bindsym $mod+Mod1+Right       focus right
bindsym $mod+Mod1+h           focus left
bindsym $mod+Mod1+j           focus down
bindsym $mod+Mod1+k           focus up
bindsym $mod+Mod1+l           focus right
bindsym $mod+Mod1+Shift+Left  move left
bindsym $mod+Mod1+Shift+Down  move down
bindsym $mod+Mod1+Shift+Up    move up
bindsym $mod+Mod1+Shift+Right move right
bindsym $mod+Mod1+Shift+h     move left
bindsym $mod+Mod1+Shift+j     move down
bindsym $mod+Mod1+Shift+k     move up
bindsym $mod+Mod1+Shift+l     move right

# Workspaces
bindsym $mod+Ctrl+1 workspace $workspace1
bindsym $mod+Ctrl+2 workspace $workspace2
bindsym $mod+Ctrl+3 workspace $workspace3
bindsym $mod+Ctrl+4 workspace $workspace4
bindsym $mod+Ctrl+5 workspace $workspace5
bindsym $mod+Ctrl+6 workspace $workspace6
bindsym $mod+Ctrl+7 workspace $workspace7
bindsym $mod+Ctrl+8 workspace $workspace8
bindsym $mod+Ctrl+9 workspace $workspace9
bindsym $mod+Ctrl+0 workspace $workspace10

bindsym $mod+Ctrl+Shift+1 move container to workspace $workspace1;  workspace $workspace1
bindsym $mod+Ctrl+Shift+2 move container to workspace $workspace2;  workspace $workspace2
bindsym $mod+Ctrl+Shift+3 move container to workspace $workspace3;  workspace $workspace3
bindsym $mod+Ctrl+Shift+4 move container to workspace $workspace4;  workspace $workspace4
bindsym $mod+Ctrl+Shift+5 move container to workspace $workspace5;  workspace $workspace5
bindsym $mod+Ctrl+Shift+6 move container to workspace $workspace6;  workspace $workspace6
bindsym $mod+Ctrl+Shift+7 move container to workspace $workspace7;  workspace $workspace7
bindsym $mod+Ctrl+Shift+8 move container to workspace $workspace8;  workspace $workspace8
bindsym $mod+Ctrl+Shift+9 move container to workspace $workspace9;  workspace $workspace9
bindsym $mod+Ctrl+Shift+0 move container to workspace $workspace10; workspace $workspace10

bindsym $mod+Ctrl+left        workspace prev_on_output
bindsym $mod+Ctrl+right       workspace next_on_output
bindsym $mod+Ctrl+h           workspace prev_on_output
bindsym $mod+Ctrl+l           workspace next_on_output
bindsym $mod+Ctrl+Shift+left  move container to workspace prev_on_output; workspace prev_on_output
bindsym $mod+Ctrl+Shift+right move container to workspace next_on_output; workspace next_on_output
bindsym $mod+Ctrl+Shift+h     move container to workspace prev_on_output; workspace prev_on_output
bindsym $mod+Ctrl+Shift+l     move container to workspace next_on_output; workspace next_on_output

# Monitors
bindsym $mod+Ctrl+p       focus output $display_primary
bindsym $mod+Ctrl+s       focus output $display_secondary
bindsym $mod+Ctrl+v       focus output $display_tv
bindsym $mod+Ctrl+Shift+p move workspace to output $display_primary;   focus ouptut $display_primary
bindsym $mod+Ctrl+Shift+s move workspace to output $display_secondary; focus output $display_secondary
bindsym $mod+Ctrl+Shift+v move workspace to output $display_tv;        focus output $display_tv
# bindsym $mod+Mod1+Shift+n move container to output right; output right
# bindsym $mod+Mod1+Shift+p move container to output left; output left

# Applications
bindsym $mod+Shift+w exec thunderbird
bindsym $mod+Shift+t exec $term
bindsym $mod+Shift+f exec chromium
bindsym $mod+Shift+e exec emacs

bindsym $mod+Ctrl+Shift+F2 exec ~/.config/sway/rename-workspace.sh
bindsym $mod+Ctrl+F2 exec ~/.config/sway/change-workspace.sh 2>>/tmp/change-workspace.out
bindsym $mod+r exec $menu 
bindsym $mod+Mod1+F4 kill
bindsym $mod+F11 fullscreen
bindsym F11 fullscreen

# Layout
bindsym $mod+Mod1+z splith
bindsym $mod+Mod1+v splitv
bindsym $mod+Mod1+s layout stacking
bindsym $mod+Mod1+w layout tabbed
bindsym $mod+Mod1+e layout toggle split
bindsym $mod+Mod1+p focus parent

bindsym $mod+Mod1+f       focus mode_toggle # focus tiling area/floating area
bindsym $mod+Mod1+Shift+f floating toggle   # move to/from floating area

bindsym $mod+Mod1+minus       scratchpad show # This isn't working. I'm loosing windows.
bindsym $mod+Mod1+Shift+minus move to scratchpad

# Control keys
bindsym XF86AudioRaiseVolume  exec pactl set-sink-volume @DEFAULT_SINK@ +10%
bindsym XF86AudioLowerVolume  exec pactl set-sink-volume @DEFAULT_SINK@ -10%
bindsym XF86AudioMute         exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute      exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym XF86MonBrightnessDown exec brightnessctl set 50%-
bindsym XF86MonBrightnessUp   exec brightnessctl set +50%
bindsym XF86AudioPlay         exec playerctl play-pause
bindsym XF86AudioNext         exec playerctl next
bindsym XF86AudioPrev         exec playerctl previous

mode "resize" {
  bindsym Left  resize shrink width  10px
  bindsym Down  resize grow   height 10px
  bindsym Up    resize shrink height 10px
  bindsym Right resize grow   width  10px
  bindsym h     resize shrink width  10px
  bindsym j     resize grow   height 10px
  bindsym k     resize shrink height 10px
  bindsym l     resize grow   width  10px

  # Return to default mode
  bindsym Return            mode "default"
  bindsym Escape            mode "default"
  bindsym $mod+Shift+Mod1+z mode "default"
}
bindsym $mod+Shift+Mod1+z mode "resize"

#
# Status Bar:
#
# Read `man 5 sway-bar` for more information about this section.
# Read `man 5 waybar` for stuff specific to the separate application waybar.

bar {
  position top

    swaybar_command waybar

    colors {
        statusline #ffffff
        background #323232
        inactive_workspace #32323200 #32323200 #5c5c5c
    }
}

set $lock "swaylock"

#exec swayidle -w \
#	timeout 3600 $lock \
#	timeout 2400 'swaymsg "output * dpms off"' \
#	resume 'swaymsg "output * dpms on"' \
#	before-sleep $lock >~/swayidle.err

bindsym $mod+Ctrl+Shift+x exec $lock

bindsym Print exec grim -g "$(slurp)"

xwayland disable

#exec mako
#exec shepherd # can't share with isaac

include /etc/sway/config.d/*
